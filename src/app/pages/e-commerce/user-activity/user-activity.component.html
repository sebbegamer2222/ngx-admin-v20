<nb-card size="medium">
  <nb-card-header>
    <span>User Activity</span>
    <nb-select
      matRipple
      [selected]="type"
      (selectedChange)="getUserActivity($event); type = $event"
    >
      @for (t of types; track t) {
      <nb-option matRipple [value]="t">{{ t }}</nb-option>
      }
    </nb-select>
  </nb-card-header>

  <nb-list class="user-activity-list">
    @for (item of userActivity; track $index) {
    <nb-list-item>
      <div class="visited-date">
        {{ item.date }}
      </div>

      <div class="visited-pages-count">
        <div class="caption">Pages Visit</div>
        <div class="value">{{ item.pagesVisitCount }}</div>
      </div>

      <div class="visited-percentages">
        <div class="caption">New visits, %</div>
        <div
          class="delta value"
          [class.up]="item.deltaUp"
          [class.down]="!item.deltaUp"
        >
          <nb-icon
            [icon]="item.deltaUp ? 'arrow-up' : 'arrow-down'"
            pack="eva"
          ></nb-icon>
          {{ item.newVisits }}%
        </div>
      </div>
    </nb-list-item>
    }
  </nb-list>
</nb-card>
